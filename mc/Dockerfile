FROM openjdk:8u141-jre
ENV MC_VERSION 3.10-SNAPSHOT
ENV MC_HOME /opt/hazelcast/mancenter
ENV MANCENTER_DATA /data
VOLUME ["/data"]

RUN mkdir -p $MC_HOME
WORKDIR $MC_HOME
### manually build from https://github.com/hazelcast/management-center/tree/maintenance-3.x
ADD mancenter-3.10-SNAPSHOT.war $MC_HOME/mancenter-3.10-SNAPSHOT.war
### Start Management Center standalone server.
COPY start.sh .
RUN chmod a+x start.sh
EXPOSE 8080
CMD ["/bin/sh", "-c", "./start.sh"]
